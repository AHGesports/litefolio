---
/*
  Mockup images are provided by shots.so
  Link: https://shots.so/
*/

import SkillsModal from "./skills/SkillsModal.astro";
import LaptopVideo from "./LaptopVideo.astro";
import AgentArchitecture from "./AgentArchitecture.astro";
import { SKILL_CATEGORIES, getSkillCount } from "../data/skills";
import { CONTACT } from "../consts";
---

<section
  id="projects"
  class="relative overflow-hidden bg-foreground w-full text-center select-none"
>
  <div class="container mx-auto flex flex-col justify-center items-center gap-6 sm:gap-10 p-4 sm:p-6 py-16 sm:py-24">
    <h2
      class="z-10 w-full max-w-2xl text-center text-2xl sm:text-3xl lg:text-5xl font-medium tracking-tighter bg-clip-text text-transparent bg-gradient-to-b from-background via-background to-muted-foreground"
    >
      <span class="whitespace-nowrap">Products born from problems</span><br />worth solving.
    </h2>
    <p
      class="w-full max-w-xl bg-clip-text text-transparent bg-gradient-to-b from-background via-background to-muted-foreground text-center text-base sm:text-lg lg:text-xl font-light tracking-tighter text-balance"
    >
       
    </p>
    <!--
      GRID LAYOUT:
      Mobile/Tablet (2 cols):          Desktop lg (5 cols):
      ┌─────────────────┐              ┌───────────┬───────┐
      │      Elyt       │              │   Elyt    │Skills │
      ├────────┬────────┤              │  (1-3)    │ (4-5) │
      │Diagram │ Skills │              ├─────┬─────┴───────┤
      ├────────┴────────┤              │Diag │    Synth    │
      │      Synth      │              │(1-2)│    (3-5)    │
      └─────────────────┘              └─────┴─────────────┘

      Height sync: Diagram ↔ Skills (mobile/sm), Diagram ↔ Synth (lg)
    -->
    <div class="z-10 w-full grid grid-cols-2 lg:grid-cols-5 gap-2 sm:gap-3">
    <!-- Elyt: full-width row 1 (mobile) | cols 1-3, rows 1-2 (lg) -->
    <article
      class="order-1 overflow-hidden relative bg-dark-card col-span-2 lg:col-span-3 lg:row-span-2 border min-h-[320px] max-h-[528px] sm:min-h-[400px] sm:max-h-[520px] lg:min-h-[580px] lg:max-h-[680px] h-auto border-dark-border rounded-[1rem] flex flex-col"
    >
      <div class="flex flex-col gap-2 w-full items-start p-3 sm:p-4 text-left shrink-0">
        <h3
          class="text-left text-lg sm:text-xl lg:text-2xl font-medium tracking-tighter text-pretty bg-clip-text text-transparent bg-gradient-to-br from-background via-background to-secondary"
        >
          Elyt
        </h3>
        <p
          class="w-full text-[hsl(0,0%,60%)] text-left text-xs sm:text-sm lg:text-lg font-light tracking-tighter text-balance"
        >
          AI-powered browser automation commercial product with multi-profile orchestration, humanization technology, and multi-provider LLM integration.
        </p>
        <p
          class="w-full text-[hsl(0,0%,45%)] text-left text-[10px] sm:text-xs lg:text-sm font-light tracking-tighter text-balance mt-0.5 sm:mt-1"
        >
          Elyt is currently available exclusively to enterprise customers. Interested in what Elyt can do for your business?
        </p>
        <div class="flex items-center gap-2 sm:gap-3 mt-1.5 sm:mt-2 lg:mt-3">
          <button
            data-cal-link={CONTACT.CAL_LINK}
            data-cal-config='{"theme":"light"}'
            class="relative z-10 group inline-flex items-center gap-1 sm:gap-1.5 lg:gap-2 px-2.5 py-0.5 sm:px-3 sm:py-1 lg:px-4 lg:py-1.5 text-[10px] sm:text-[11px] lg:text-sm font-medium text-white/80 bg-transparent border border-white/20 rounded-full transition-all duration-200 hover:bg-white/10 hover:border-white/40 hover:text-white focus:outline-none focus:ring-2 focus:ring-white/25 focus:ring-offset-1 focus:ring-offset-transparent active:scale-[0.98] cursor-pointer"
          >
            <span class="pointer-events-none whitespace-nowrap">Book a Demo</span>
            <svg class="w-2.5 h-2.5 sm:w-3 sm:h-3 lg:w-3.5 lg:h-3.5 flex-shrink-0 transition-transform duration-200 group-hover:translate-x-0.5 pointer-events-none" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg>
          </button>
          <span class="live-tag inline-flex items-center gap-1 sm:gap-1.5 px-1.5 py-0.5 sm:px-2 sm:py-0.5 lg:px-2.5 lg:py-1 rounded-full">
            <svg class="live-tag-icon w-2 h-2 sm:w-2.5 sm:h-2.5 lg:w-3 lg:h-3" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg>
            <span class="live-tag-text text-[8px] sm:text-[9px] lg:text-xs font-medium uppercase tracking-wider">Live</span>
          </span>
        </div>
      </div>
      <div class="flex-1 flex items-center justify-center p-2 sm:p-4 min-h-[200px] sm:min-h-[300px] lg:min-h-[450px]">
        <LaptopVideo
          videoSrc="/video/video.mp4"
          webmSrc="/video/video.webm"
          posterSrc="/video/poster.webp"
        />
      </div>
    </article>
    <!-- Skills: right of Diagram row 2 (mobile/sm) | cols 4-5, rows 1-2 (lg) -->
    <article
      class="order-3 lg:order-2 overflow-hidden group bg-dark-card col-span-1 lg:col-span-2 lg:row-span-2 lg:col-start-4 min-h-[320px] max-h-[648px] sm:min-h-[400px] sm:max-h-[620px] lg:min-h-[580px] lg:max-h-[680px] h-auto border border-dark-border rounded-[1rem] p-2 sm:p-2 lg:p-6 flex flex-col flex-1 gap-1 sm:gap-1.5 lg:gap-3 justify-center items-center"
    >
      <div
        role="button"
        tabindex="0"
        data-skill-category="languages"
        class="w-fit rounded-full bg-background px-3 py-1.5 sm:px-4 sm:py-2.5 lg:px-5 lg:py-2.5 flex justify-center items-center gap-1 sm:gap-1.5 lg:gap-3 rotate-12 group-hover:rotate-0 border transition-all duration-300 ease-in-out cursor-pointer hover:scale-105 hover:shadow-lg"
      >
        <span class="text-[9px] sm:text-[13px] lg:text-xl font-light tracking-tighter">Languages</span>
        <span class="text-[7px] sm:text-[11px] lg:text-sm text-muted-foreground">({getSkillCount(SKILL_CATEGORIES[0])})</span>
        <svg class="w-2.5 h-2.5 lg:w-4 lg:h-4 text-muted-foreground hidden sm:block" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
      </div>
      <div
        role="button"
        tabindex="0"
        data-skill-category="backend"
        class="w-fit rounded-full bg-background px-3 py-1.5 sm:px-4 sm:py-2.5 lg:px-5 lg:py-2.5 flex justify-center items-center gap-1 sm:gap-1.5 lg:gap-3 -rotate-6 group-hover:rotate-0 border transition-all duration-300 ease-in-out cursor-pointer hover:scale-105 hover:shadow-lg"
      >
        <span class="text-[9px] sm:text-[13px] lg:text-xl font-light tracking-tighter">Backend</span>
        <span class="text-[7px] sm:text-[11px] lg:text-sm text-muted-foreground">({getSkillCount(SKILL_CATEGORIES[1])})</span>
        <svg class="w-2.5 h-2.5 lg:w-4 lg:h-4 text-muted-foreground hidden sm:block" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
      </div>
      <div
        role="button"
        tabindex="0"
        data-skill-category="frontend"
        class="w-fit rounded-full bg-background px-3 py-1.5 sm:px-4 sm:py-2.5 lg:px-5 lg:py-2.5 flex justify-center items-center gap-1 sm:gap-1.5 lg:gap-3 border transition-all duration-300 ease-in-out cursor-pointer hover:scale-105 hover:shadow-lg"
      >
        <span class="text-[9px] sm:text-[13px] lg:text-xl font-light tracking-tighter">Frontend</span>
        <span class="text-[7px] sm:text-[11px] lg:text-sm text-muted-foreground">({getSkillCount(SKILL_CATEGORIES[2])})</span>
        <svg class="w-2.5 h-2.5 lg:w-4 lg:h-4 text-muted-foreground hidden sm:block" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
      </div>
      <div
        role="button"
        tabindex="0"
        data-skill-category="devops"
        class="w-fit rounded-full bg-background px-3 py-1.5 sm:px-4 sm:py-2.5 lg:px-5 lg:py-2.5 flex justify-center items-center gap-1 sm:gap-1.5 lg:gap-3 rotate-6 group-hover:rotate-0 border transition-all duration-300 ease-in-out cursor-pointer hover:scale-105 hover:shadow-lg"
      >
        <span class="text-[9px] sm:text-[13px] lg:text-xl font-light tracking-tighter">DevOps</span>
        <span class="text-[7px] sm:text-[11px] lg:text-sm text-muted-foreground">({getSkillCount(SKILL_CATEGORIES[3])})</span>
        <svg class="w-2.5 h-2.5 lg:w-4 lg:h-4 text-muted-foreground hidden sm:block" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
      </div>
      <div
        role="button"
        tabindex="0"
        data-skill-category="ai-automation"
        class="w-fit rounded-full bg-background px-3 py-1.5 sm:px-4 sm:py-2.5 lg:px-5 lg:py-2.5 flex justify-center items-center gap-1 sm:gap-1.5 lg:gap-3 -rotate-12 group-hover:rotate-0 border transition-all duration-300 ease-in-out cursor-pointer hover:scale-105 hover:shadow-lg"
      >
        <span class="text-[9px] sm:text-[13px] lg:text-xl font-light tracking-tighter">AI & Auto</span>
        <span class="text-[7px] sm:text-[11px] lg:text-sm text-muted-foreground">({getSkillCount(SKILL_CATEGORIES[4])})</span>
        <svg class="w-2.5 h-2.5 lg:w-4 lg:h-4 text-muted-foreground hidden sm:block" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
      </div>
      <div
        role="button"
        tabindex="0"
        data-skill-category="specialized"
        class="w-fit rounded-full bg-background px-3 py-1.5 sm:px-4 sm:py-2.5 lg:px-5 lg:py-2.5 flex justify-center items-center gap-1 sm:gap-1.5 lg:gap-3 rotate-3 group-hover:rotate-0 border transition-all duration-300 ease-in-out cursor-pointer hover:scale-105 hover:shadow-lg"
      >
        <span class="text-[9px] sm:text-[13px] lg:text-xl font-light tracking-tighter">Specialized</span>
        <span class="text-[7px] sm:text-[11px] lg:text-sm text-muted-foreground">({getSkillCount(SKILL_CATEGORIES[5])})</span>
        <svg class="w-2.5 h-2.5 lg:w-4 lg:h-4 text-muted-foreground hidden sm:block" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
      </div>
    </article>
    <!-- Diagram: left of Skills row 2 (mobile/sm) | cols 1-2, rows 3-4 (lg) -->
    <article
      style="container-type: inline-size;"
      class="order-2 lg:order-3 overflow-hidden bg-dark-card col-span-1 lg:col-span-2 lg:row-span-2 lg:row-start-3 border min-h-[320px] max-h-[648px] sm:min-h-[400px] sm:max-h-[620px] lg:min-h-[640px] lg:max-h-[780px] h-auto border-dark-border rounded-[1rem]"
    >
      <AgentArchitecture />
    </article>
    <!-- Synth: full-width row 3 (mobile/sm) | cols 3-5, rows 3-4 (lg) -->
    <article
      class="order-4 overflow-hidden bg-dark-card col-span-2 lg:col-span-3 lg:row-span-2 lg:col-start-3 lg:row-start-3 border min-h-[320px] max-h-[648px] sm:min-h-[400px] sm:max-h-[620px] lg:min-h-[640px] lg:max-h-[780px] h-auto border-dark-border rounded-[1rem] flex flex-col"
    >
      <div class="flex flex-col gap-2 w-full items-start p-3 sm:p-4 text-left shrink-0">
        <h3
          class="text-left text-lg sm:text-xl lg:text-2xl font-medium tracking-tighter text-pretty bg-clip-text text-transparent bg-gradient-to-br from-background via-background to-secondary"
        >
          Synth
        </h3>
        <p
          class="w-full text-[hsl(0,0%,60%)] text-left text-xs sm:text-sm lg:text-lg font-light tracking-tighter text-balance"
        >
          An AI Agent and workflow management web application for the future, made from the experience of Elyt. Synth harnesses the power of open-source to integrate with over 150+ locally or cloud-hosted services. It features a database-per-tenant architecture with database branching technology to give agents their own state and memory like never done before.
        </p>
        <p
          class="w-full text-[hsl(0,0%,45%)] text-left text-[10px] sm:text-xs lg:text-sm font-light tracking-tighter text-balance mt-0.5 sm:mt-1"
        >
          Interested in getting involved with the development or sponsoring the agentic framework of the future?
        </p>
        <div class="flex items-center gap-2 sm:gap-3 mt-1.5 sm:mt-2 lg:mt-3">
          <button
            data-contact-modal
            class="relative z-10 group inline-flex items-center gap-1 sm:gap-1.5 lg:gap-2 px-2.5 py-0.5 sm:px-3 sm:py-1 lg:px-4 lg:py-1.5 text-[10px] sm:text-[11px] lg:text-sm font-medium text-white/80 bg-transparent border border-white/20 rounded-full transition-all duration-200 hover:bg-white/10 hover:border-white/40 hover:text-white focus:outline-none focus:ring-2 focus:ring-white/25 focus:ring-offset-1 focus:ring-offset-transparent active:scale-[0.98] cursor-pointer"
          >
            <span class="pointer-events-none whitespace-nowrap">Get in Touch</span>
            <svg class="w-2.5 h-2.5 sm:w-3 sm:h-3 lg:w-3.5 lg:h-3.5 flex-shrink-0 transition-transform duration-200 group-hover:translate-x-0.5 pointer-events-none" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="20" height="16" x="2" y="4" rx="2"/><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"/></svg>
          </button>
          <span class="dev-tag inline-flex items-center gap-1 sm:gap-1.5 px-1.5 py-0.5 sm:px-2 sm:py-0.5 lg:px-2.5 lg:py-1 rounded-full">
            <span class="relative flex h-1 w-1 sm:h-1.5 sm:w-1.5 lg:h-2 lg:w-2">
              <span class="dev-tag-dot animate-ping absolute inline-flex h-full w-full rounded-full opacity-60"></span>
              <span class="dev-tag-dot relative inline-flex rounded-full h-1 w-1 sm:h-1.5 sm:w-1.5 lg:h-2 lg:w-2"></span>
            </span>
            <span class="dev-tag-text text-[8px] sm:text-[9px] lg:text-xs font-medium uppercase tracking-wider">In Development</span>
          </span>
        </div>
      </div>
      <div class="flex-1 flex items-center justify-center p-2">
        <img
          src="/assets/simNeon.svg"
          alt="Mockup Project"
          loading="lazy"
          class="object-contain w-full h-full max-h-[280px] sm:max-h-[350px] lg:max-h-full rounded-md"
        />
      </div>
    </article>
    <!-- Enterprise Experience - Full width row on mobile/tablet -->
    <article
      class="order-5 overflow-hidden bg-dark-card col-span-2 lg:col-span-3 lg:row-span-2 lg:row-start-5 border min-h-[110px] max-h-[160px] sm:min-h-[140px] sm:max-h-[220px] lg:min-h-[260px] lg:max-h-[340px] h-auto border-dark-border rounded-[1rem] flex flex-row"
    >
      <div class="flex flex-col gap-1 sm:gap-2 w-1/2 lg:w-1/2 items-start p-3 sm:p-4 text-left shrink-0">
        <h3
          class="text-left text-base sm:text-lg lg:text-xl xl:text-2xl font-medium tracking-tighter text-pretty bg-clip-text text-transparent bg-gradient-to-br from-background via-background to-secondary"
        >
          Enterprise Experience
        </h3>
        <p
          class="w-full text-[hsl(0,0%,60%)] text-left text-[10px] font-light tracking-tighter text-balance sm:hidden"
        >
          4 years building enterprise systems—ticketing, POS, and hardware integrations. The foundation of my engineering standards.
        </p>
        <p
          class="w-full text-[hsl(0,0%,60%)] text-left hidden sm:block sm:text-xs lg:text-sm xl:text-base font-light tracking-tighter text-balance"
        >
          4 years of enterprise experience on large-scale systems taught me scale. Ticketing platforms, reservation systems, and POS solutions processing real transactions for real businesses. Hardware integrations from payment terminals to access control. The work that defined my engineering standards and career.
        </p>
      </div>
      <div class="flex-1 flex items-center justify-center lg:justify-start p-2 lg:pl-[6%] min-h-[80px] lg:min-h-[120px] overflow-hidden">
        <img
          src="/assets/mockup3.svg"
          alt="Mockup Project"
          loading="lazy"
          class="object-contain max-w-[70px] sm:max-w-[90px] lg:max-w-[157px] xl:max-w-[190px]"
        />
      </div>
    </article>
    <!-- CTA - Full width row on mobile/tablet -->
    <article
      class="order-6 overflow-hidden bg-dark-card col-span-2 lg:col-span-2 lg:row-span-2 lg:col-start-4 lg:row-start-5 border min-h-[120px] max-h-[200px] sm:min-h-[140px] sm:max-h-[220px] lg:min-h-[260px] lg:max-h-[340px] h-auto border-dark-border rounded-[1rem]"
    >
      <div
        class="w-full h-full flex flex-col gap-3 sm:gap-5 justify-center items-center p-3 sm:p-4"
      >
        <h1
          class="text-base sm:text-xl lg:text-2xl font-medium tracking-tighter text-pretty bg-clip-text text-transparent bg-gradient-to-br from-background via-background to-secondary text-center"
        >
          Let's work together
        </h1>
        <a
          href="https://linkedin.com/in/arshia-hemati-5358742ab"
          target="_blank"
          rel="noopener noreferrer"
          class="w-fit flex gap-2 justify-center items-center px-3 py-1.5 sm:px-4 sm:py-2 text-sm sm:text-lg font-medium text-background bg-primary rounded-full"
        >
          LinkedIn
          <svg
            width="256"
            height="256"
            xmlns="http://www.w3.org/2000/svg"
            preserveAspectRatio="xMidYMid"
            viewBox="0 0 256 256"
            class="size-5"
            ><path
              d="M218.123 218.127h-37.931v-59.403c0-14.165-.253-32.4-19.728-32.4-19.756 0-22.779 15.434-22.779 31.369v60.43h-37.93V95.967h36.413v16.694h.51a39.907 39.907 0 0 1 35.928-19.733c38.445 0 45.533 25.288 45.533 58.186l-.016 67.013ZM56.955 79.27c-12.157.002-22.014-9.852-22.016-22.009-.002-12.157 9.851-22.014 22.008-22.016 12.157-.003 22.014 9.851 22.016 22.008A22.013 22.013 0 0 1 56.955 79.27m18.966 138.858H37.95V95.967h37.97v122.16ZM237.033.018H18.89C8.58-.098.125 8.161-.001 18.471v219.053c.122 10.315 8.576 18.582 18.89 18.474h218.144c10.336.128 18.823-8.139 18.966-18.474V18.454c-.147-10.33-8.635-18.588-18.966-18.453"
              fill="currentColor"></path></svg
          >
        </a>
      </div>
    </article>
    </div>
  </div>
  <div
    class="bg-white opacity-10 absolute size-80 top-[-160px] border blur-[150px] rounded-full"
  >
  </div>
</section>

<SkillsModal />

<style>
  /* In Development tag - Synth */
  .dev-tag {
    background: hsla(var(--secondary), 0.06);
    border: 1px solid hsla(var(--secondary), 0.15);
  }

  .dev-tag-dot {
    background: hsla(var(--secondary), 0.7);
  }

  .dev-tag-text {
    color: hsla(var(--secondary), 0.8);
  }

  /* Live/Production tag - Elyt */
  .live-tag {
    background: hsla(var(--secondary), 0.06);
    border: 1px solid hsla(var(--secondary), 0.15);
  }

  .live-tag-icon {
    color: hsla(var(--secondary), 0.8);
  }

  .live-tag-text {
    color: hsla(var(--secondary), 0.8);
  }
</style>
