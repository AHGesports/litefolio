---
/*
  Mockup images are provided by shots.so
  Link: https://shots.so/
*/

const testimonials = [
  {
    name: "Alice Smith",
    testimonial: "Your work is truly outstanding!",
    src: "/",
    alt: "Logo",
  },
  {
    name: "Michael Johnson",
    testimonial: "Exceptional quality and attention to detail.",
    src: "/",
    alt: "Logo",
  },
  {
    name: "Emily Davis",
    testimonial: "Incredible results!",
    src: "/",
    alt: "Logo",
  },
  {
    name: "Chris Lee",
    testimonial: "Your creativity and skill are unmatched.",
    src: "/",
    alt: "Logo",
  },
  {
    name: "Sophia Brown",
    testimonial: "Impressive work and great service.",
    src: "/",
    alt: "Logo",
  },
];

import Image from "astro/components/Image.astro";
import SkillsModal from "./skills/SkillsModal.astro";
import LaptopVideo from "./LaptopVideo.astro";
import { SKILL_CATEGORIES, getSkillCount } from "../data/skills";
---

<section
  id="projects"
  class="relative overflow-hidden bg-foreground w-full text-center select-none"
>
  <div class="container mx-auto flex flex-col justify-center items-center gap-6 sm:gap-10 p-4 sm:p-6 py-16 sm:py-24">
    <h2
      class="z-10 w-full max-w-xl text-center text-xl sm:text-2xl md:text-4xl font-medium tracking-tighter text-pretty bg-clip-text text-transparent bg-gradient-to-b from-background via-background to-muted-foreground"
    >
      Every project is a new challenge to overcome.
    </h2>
    <p
      class="w-full max-w-xl bg-clip-text text-transparent bg-gradient-to-b from-background via-background to-muted-foreground text-center text-base sm:text-lg md:text-xl font-light tracking-tighter text-balance"
    >
      Design, Code, Learn, Repeat.
    </p>
    <div class="z-10 w-full grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-2 sm:gap-3">
    <!-- AutoFlow - Main Project -->
    <article
      class="order-1 overflow-hidden relative bg-dark-card col-span-2 md:col-span-4 lg:col-span-3 lg:row-span-2 border min-h-[240px] sm:min-h-[300px] h-auto border-dark-border rounded-[1rem] flex flex-col sm:flex-row sm:gap-3"
    >
      <div class="flex flex-col gap-2 w-full sm:w-1/2 items-start p-3 sm:p-4 text-left shrink-0">
        <h3
          class="text-left text-lg sm:text-xl md:text-2xl font-medium tracking-tighter text-pretty bg-clip-text text-transparent bg-gradient-to-br from-background via-background to-secondary"
        >
          AutoFlow
        </h3>
        <p
          class="w-full text-muted-foreground text-left text-xs sm:text-sm md:text-base lg:text-lg font-light tracking-tighter text-balance"
        >
          AI-powered browser automation commercial product with multi-profile orchestration, humanization technology, and multi-provider LLM integration.
        </p>
      </div>
      <div class="flex-1 flex items-center justify-center p-2 min-h-[150px]">
        <LaptopVideo
          videoSrc="/assets/autoflow-demo.mp4"
          alt="Autoflow demo"
        />
      </div>
    </article>
    <!-- Skills -->
    <article
      class="order-2 overflow-hidden group bg-dark-card col-span-1 md:col-span-2 lg:col-span-2 lg:row-span-2 lg:col-start-4 min-h-[220px] sm:min-h-[280px] md:min-h-[300px] h-auto border border-dark-border rounded-[1rem] p-2 sm:p-4 flex flex-col flex-1 gap-0.5 sm:gap-1 justify-center items-center"
    >
      <div
        role="button"
        tabindex="0"
        data-skill-category="languages"
        class="w-fit rounded-full bg-background px-3 py-1.5 flex justify-center items-center gap-2 rotate-12 group-hover:rotate-0 border transition-all duration-300 ease-in-out cursor-pointer hover:scale-105 hover:shadow-lg"
      >
        <span class="text-sm sm:text-base md:text-lg font-light tracking-tighter">Languages</span>
        <span class="text-xs text-muted-foreground">({getSkillCount(SKILL_CATEGORIES[0])})</span>
        <svg class="w-3 h-3 text-muted-foreground" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
      </div>
      <div
        role="button"
        tabindex="0"
        data-skill-category="backend"
        class="w-fit rounded-full bg-background px-3 py-1.5 flex justify-center items-center gap-2 -rotate-6 group-hover:rotate-0 border transition-all duration-300 ease-in-out cursor-pointer hover:scale-105 hover:shadow-lg"
      >
        <span class="text-sm sm:text-base md:text-lg font-light tracking-tighter">Backend</span>
        <span class="text-xs text-muted-foreground">({getSkillCount(SKILL_CATEGORIES[1])})</span>
        <svg class="w-3 h-3 text-muted-foreground" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
      </div>
      <div
        role="button"
        tabindex="0"
        data-skill-category="frontend"
        class="w-fit rounded-full bg-background px-3 py-1.5 flex justify-center items-center gap-2 border transition-all duration-300 ease-in-out cursor-pointer hover:scale-105 hover:shadow-lg"
      >
        <span class="text-sm sm:text-base md:text-lg font-light tracking-tighter">Frontend</span>
        <span class="text-xs text-muted-foreground">({getSkillCount(SKILL_CATEGORIES[2])})</span>
        <svg class="w-3 h-3 text-muted-foreground" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
      </div>
      <div
        role="button"
        tabindex="0"
        data-skill-category="devops"
        class="w-fit rounded-full bg-background px-3 py-1.5 flex justify-center items-center gap-2 rotate-6 group-hover:rotate-0 border transition-all duration-300 ease-in-out cursor-pointer hover:scale-105 hover:shadow-lg"
      >
        <span class="text-sm sm:text-base md:text-lg font-light tracking-tighter">DevOps</span>
        <span class="text-xs text-muted-foreground">({getSkillCount(SKILL_CATEGORIES[3])})</span>
        <svg class="w-3 h-3 text-muted-foreground" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
      </div>
      <div
        role="button"
        tabindex="0"
        data-skill-category="ai-automation"
        class="w-fit rounded-full bg-background px-3 py-1.5 flex justify-center items-center gap-2 -rotate-12 group-hover:rotate-0 border transition-all duration-300 ease-in-out cursor-pointer hover:scale-105 hover:shadow-lg"
      >
        <span class="text-sm sm:text-base md:text-lg font-light tracking-tighter">AI & Automation</span>
        <span class="text-xs text-muted-foreground">({getSkillCount(SKILL_CATEGORIES[4])})</span>
        <svg class="w-3 h-3 text-muted-foreground" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
      </div>
      <div
        role="button"
        tabindex="0"
        data-skill-category="specialized"
        class="w-fit rounded-full bg-background px-3 py-1.5 flex justify-center items-center gap-2 rotate-3 group-hover:rotate-0 border transition-all duration-300 ease-in-out cursor-pointer hover:scale-105 hover:shadow-lg"
      >
        <span class="text-sm sm:text-base md:text-lg font-light tracking-tighter">Specialized</span>
        <span class="text-xs text-muted-foreground">({getSkillCount(SKILL_CATEGORIES[5])})</span>
        <svg class="w-3 h-3 text-muted-foreground" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
      </div>
    </article>
    <!-- Testimonials -->
    <article
      class="order-3 overflow-hidden bg-dark-card col-span-1 md:col-span-2 lg:col-span-2 lg:row-span-2 lg:row-start-3 border min-h-[220px] sm:min-h-[280px] md:min-h-[300px] h-auto border-dark-border rounded-[1rem] px-2 sm:px-4 group"
    >
      <div
        class="w-full h-full max-h-[220px] sm:max-h-[500px] flex flex-col justify-center select-none overflow-hidden"
      >
        <div
          class="w-full h-max flex flex-col justify-center items-center gap-[2rem] sm:gap-[4rem] animate-vertical-slide"
        >
          {
            testimonials.concat(testimonials).map((testimonial) => (
              <article class="w-full max-w-sm flex flex-col gap-1 sm:gap-2 items-center justify-center h-16 sm:h-20 border border-dark-border bg-background rounded-[0.75rem] sm:rounded-[1rem] px-2 sm:px-4 py-1.5 sm:py-2">
                <div class="w-full flex items-center justify-start gap-1.5 sm:gap-2">
                  <span class="w-5 h-5 sm:w-7 sm:h-7 rounded-full bg-gradient-to-r from-primary to-secondary shrink-0" />
                  <h1 class="text-xs sm:text-sm font-medium truncate">{testimonial.name}</h1>
                </div>
                <p class="w-full text-left text-muted-foreground text-[10px] sm:text-xs line-clamp-2">
                  {testimonial.testimonial}
                </p>
              </article>
            ))
          }
        </div>
      </div>
    </article>
    <!-- Project 2 - Full width at bottom on mobile -->
    <article
      class="order-6 md:order-4 overflow-hidden bg-dark-card col-span-2 md:col-span-2 lg:col-span-3 lg:row-span-2 lg:col-start-3 lg:row-start-3 border min-h-[240px] sm:min-h-[300px] h-auto border-dark-border rounded-[1rem] flex flex-col sm:flex-row sm:gap-3"
    >
      <div class="flex flex-col gap-2 w-full sm:w-1/2 items-start p-3 sm:p-4 text-left shrink-0">
        <h3
          class="text-left text-lg sm:text-xl md:text-2xl font-medium tracking-tighter text-pretty bg-clip-text text-transparent bg-gradient-to-br from-background via-background to-secondary"
        >
          Your Project Here
        </h3>
        <p
          class="w-full text-muted-foreground text-left text-xs sm:text-sm md:text-base lg:text-lg font-light tracking-tighter text-balance"
        >
          Your project description here.
        </p>
      </div>
      <div class="flex-1 flex items-center justify-center p-2 min-h-[120px]">
        <Image
          src="/assets/mockup2.png"
          alt="Mockup Project"
          loading="lazy"
          width={1920}
          height={1080}
          class="object-contain w-full h-full max-h-[140px] sm:max-h-[180px] md:max-h-full rounded-md"
        />
      </div>
    </article>
    <!-- Project 3 - Next to CTA on mobile -->
    <article
      class="order-4 md:order-5 overflow-hidden bg-dark-card col-span-1 md:col-span-2 lg:col-span-3 lg:row-span-2 lg:row-start-5 border min-h-[220px] sm:min-h-[300px] h-auto border-dark-border rounded-[1rem] flex flex-col"
    >
      <div class="flex flex-col gap-1 sm:gap-2 w-full items-start p-3 sm:p-4 text-left shrink-0">
        <h3
          class="text-left text-lg sm:text-xl md:text-2xl font-medium tracking-tighter text-pretty bg-clip-text text-transparent bg-gradient-to-br from-background via-background to-secondary"
        >
          Your Project Here
        </h3>
        <p
          class="w-full text-muted-foreground text-left text-xs sm:text-sm md:text-base lg:text-lg font-light tracking-tighter text-balance"
        >
          Your project description here.
        </p>
      </div>
      <div class="flex-1 flex items-center justify-center p-2">
        <Image
          src="/assets/mockup1.png"
          alt="Mockup Project"
          loading="lazy"
          width={1920}
          height={1080}
          class="object-contain w-full h-full max-h-[100px] sm:max-h-[180px] md:max-h-full rounded-md"
        />
      </div>
    </article>
    <!-- CTA - Next to Project 3 on mobile -->
    <article
      class="order-5 md:order-6 overflow-hidden bg-dark-card col-span-1 md:col-span-2 lg:col-span-2 lg:row-span-2 lg:col-start-4 lg:row-start-5 border min-h-[220px] sm:min-h-[280px] md:min-h-[300px] h-auto border-dark-border rounded-[1rem]"
    >
      <div
        class="w-full h-full flex flex-col gap-3 sm:gap-5 justify-center items-center p-3 sm:p-4"
      >
        <h1
          class="text-base sm:text-xl md:text-2xl font-medium tracking-tighter text-pretty bg-clip-text text-transparent bg-gradient-to-br from-background via-background to-secondary text-center"
        >
          Let's work together
        </h1>
        <a
          href="https://linkedin.com/in/arshia-hemati-5358742ab"
          target="_blank"
          rel="noopener noreferrer"
          class="w-fit flex gap-2 justify-center items-center px-3 py-1.5 sm:px-4 sm:py-2 text-sm sm:text-lg font-medium text-background bg-primary rounded-full"
        >
          LinkedIn
          <svg
            width="256"
            height="256"
            xmlns="http://www.w3.org/2000/svg"
            preserveAspectRatio="xMidYMid"
            viewBox="0 0 256 256"
            class="size-5"
            ><path
              d="M218.123 218.127h-37.931v-59.403c0-14.165-.253-32.4-19.728-32.4-19.756 0-22.779 15.434-22.779 31.369v60.43h-37.93V95.967h36.413v16.694h.51a39.907 39.907 0 0 1 35.928-19.733c38.445 0 45.533 25.288 45.533 58.186l-.016 67.013ZM56.955 79.27c-12.157.002-22.014-9.852-22.016-22.009-.002-12.157 9.851-22.014 22.008-22.016 12.157-.003 22.014 9.851 22.016 22.008A22.013 22.013 0 0 1 56.955 79.27m18.966 138.858H37.95V95.967h37.97v122.16ZM237.033.018H18.89C8.58-.098.125 8.161-.001 18.471v219.053c.122 10.315 8.576 18.582 18.89 18.474h218.144c10.336.128 18.823-8.139 18.966-18.474V18.454c-.147-10.33-8.635-18.588-18.966-18.453"
              fill="currentColor"></path></svg
          >
        </a>
      </div>
    </article>
    </div>
  </div>
  <div
    class="bg-white opacity-10 absolute size-80 top-[-160px] border blur-[150px] rounded-full"
  >
  </div>
</section>

<SkillsModal />

<style>
  .group:hover .animate-vertical-slide {
    animation-play-state: paused;
  }
</style>
