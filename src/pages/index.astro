---
import Header from "@/components/Header.astro";
import Hero from "@/components/Hero.astro";
import Layout from "@/layouts/Layout.astro";
import Stack from "@/components/Stack.astro";
import Projects from "@/components/Projects.astro";
import About from "@/components/About.astro";
import Footer from "@/components/Footer.astro";
import ContactModal from "@/components/ContactModal.astro";
---

<Layout title="Arshia Hemati - Portfolio">
  <main
    class="relative w-full flex flex-col justify-start pattern"
  >
    <Header />
    <Hero />
    <Stack />
    <Projects />
    <About />
    <Footer />
  </main>

  <!-- Contact Modal -->
  <ContactModal />
</Layout>

<style>
  /* Animated Background Pattern - GPU Accelerated (compositor-only) */
  .pattern {
    position: relative;
    overflow: hidden;
    /* Background is on ::before, not here (z-index: -1 would be hidden) */
  }

  .pattern::before {
    content: '';
    position: absolute;
    /* Oversized to allow movement without edge reveal */
    width: calc(100% + 1000px);
    height: calc(100% + 1000px);
    top: -500px;
    left: -500px;

    /* Gradient centered at upper-left angle for diagonal wave effect */
    background-image:
      repeating-radial-gradient(
        circle at 25% 20%,
        transparent 0px,
        transparent 278px,
        #eaeaea 278px,
        #eaeaea 280px
      );
    background-color: #ffffff;
    background-blend-mode: multiply;

    /* GPU acceleration */
    will-change: transform;
    backface-visibility: hidden;

    /* Constant drift animation - runs on compositor thread */
    /* linear for continuous motion without stops */
    animation: pattern-drift 22s linear infinite;

    z-index: -1;
    pointer-events: none;
  }

  /* Asymmetric orbit - more to the right, less to the left */
  @keyframes pattern-drift {
    0%      { transform: translate3d(380px, 0, 0); }
    8.33%   { transform: translate3d(329px, -190px, 0); }
    16.66%  { transform: translate3d(190px, -329px, 0); }
    25%     { transform: translate3d(0, -380px, 0); }
    33.33%  { transform: translate3d(-95px, -329px, 0); }
    41.66%  { transform: translate3d(-165px, -190px, 0); }
    50%     { transform: translate3d(-190px, 0, 0); }
    58.33%  { transform: translate3d(-165px, 190px, 0); }
    66.66%  { transform: translate3d(-95px, 329px, 0); }
    75%     { transform: translate3d(0, 380px, 0); }
    83.33%  { transform: translate3d(190px, 329px, 0); }
    91.66%  { transform: translate3d(329px, 190px, 0); }
    100%    { transform: translate3d(380px, 0, 0); }
  }

  /* Mobile: slower animation for battery efficiency */
  @media (hover: none) and (pointer: coarse) {
    .pattern::before {
      animation-duration: 30s;
    }
  }
</style>
